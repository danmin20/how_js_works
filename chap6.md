# 불(boolean) 타입

불 타입이라는 이름은 대수 로직 시스템을 개발한 영국의 수학자 조지 불의 이름에서 따왔다.
그리고 정보이론의 아버지라 일컬어지는 클로드 섀넌이 디지털 회로 설계에 불의 시스템을 도입했다.
그래서 컴퓨터 회로를 로직이라고 부르는 것이다.

불 타입은 true와 false만 가질 수 있다.
불 값은 대개 로직 연산자로 구현되는 비교 연산자의 결과로 생성되어 삼항 연산자나 조건식 부분에서 사용된다.

## 관계 연산자

- `===` : 같음
- `!==` : 같지 않음
- `<` : 보다 작음
- `<=` : 보다 작거나 같음
- `>` : 보다 큼
- `>=` : 보다 크거나 같음

```javascript
undefined < null; //false
undefined > null; //false
undefined === null; //false

NaN === NaN; //false
NaN !== NaN; //true

"11" < "2"; //true
"2" < 5; //true
5 < "11"; //true
```

`===`와 `!==`는 값이 NaN이 아닌 다른 값인지를 검사하기 위해 쓸 수 있다.
x가 NaN인지 확인하려면 반드시 Number.isNaN(x)를 써야 한다.

반복문의 종료 조건을 검사할 때에는 `===` 보다는 `>=`가 더 안전하다.
비교 연산자의 경우, 자료형을 섞어서 써서는 안 된다.

자바스크립트에서는 `==`와 `!=`는 절대 사용하지 않길 권장한다.
이 연산자들은 비교 연산을 하기 전에 강제로 형변환을 하기 때문에,
false positives와 false negatives가 발생할 수 있다.

## 불인 척하기

불이 제대로 쓰이는 위치

- if 문의 조건문 위치
- while 문의 조건문 위치
- for 문의 조건문 위치
- do 문의 조건문 위치
- ! 연산자의 피연산자 위치
- && 연산자의 양쪽 피연산자
- || 연산자의 양쪽 피연산자
- ?와 :로 구성된 삼항 연산자의 첫 번째 피연산자 위치(?앞)
- Array의 filter, find, findIndex, indexOf 메서드의 첫 번째 인자로 전달되는 함수의 반환 값

자바스크립트는 위의 위치에 아무 값이나 사용해도 된다.
이런 언어의 모든 값은 '불인 척하는' 자료형에 포함된다.
'불인 척하는' 자료형에 속한 값은 '참이라고 볼 수 있는 값'이거나 '거짓이라고 볼 수 있는 값' 둘 중 하나이다.

거짓이라고 볼수 있는 값

- false
- null
- undefined
- ""
- 0
- NaN

다른 모든 값은 '참이라고 볼 수 있는 값'에 대항한다.
빈 객체, 빈 배열도 포함된다.

'거짓이라고 볼 수 있는 값'들은 일반적으로 false처럼 동작하지만, 엄밀히 말하자면 대부분은 실제로 false가 아니다.
'참이라고 볼 수 있는 값'도 마찬가지이다.
이러한 '불인 척하기'는 C언어의 관용구를 자바스크립트에서도 사용할 수 있도록 하기 위해 일부러 만든 것이다.
C는 자료형을 적절하게 사용하지 못했다.
C에서는 0, FALSE, NULL, 문자열의 끝 등등을 단 하나의 값으로 표현한다.
그래서 if 문의 조건문 위치에서도 C는 해당 표현식이 0인지 아닌지만 확인한다.

자바스크립트는 그럴듯한 불 자료형을 가지고는 있지만, '불인 척하는 값'들을 허용하는 바람에 그 의미가 퇴색되었다.
조건문은 true/false여야 한다. 다른 값들은 반드시 에러로 간주되어야 한다.(이상적으로는 컴파일 시점에)
'불인 척하는 값'들을 피하고, 진짜 불 값을 사용하도록 하자.

## 논리 연산자

논리 연산자들 또한 '불인 척하기'의 피해자이다.

- ! : 논리 not
- && : 논리 and
- || : 논리 or

## 하지 마세요!

not 연산자를 두 번 쓰는 방식은 단순화하는 것이 좋다.
`!!p === p`는 오직 p가 불 값일 경우에만 정확하다.
p가 불 타입이 아니라면 !!p는 Boolean(p)와 같은 값이지, p와 같은지는 알 수 없다.

몇몇 비교 연산자는 반대에 해당하는 연산자를 가진다.(`<`와`>=`, `<`와`<=`)
이 경우 다음과 같이 단순화할 수 있다.

```javascript
!(a === b) === (a !== b);
!(a <= b) === a > b;
!(a > b) === a <= b;
!(a >= b) === a < b;
```

a나 b가 NaN이라면 코드 변환은 실패한다.
NaN에 그 어떤 숫자를 그 어떤 비교 연산자를 사용해서 비교하더라도 false를 반환하기 때문이다.
NaN에 대한 의미 있는 행동은 `Number.isNaN(NaN)`밖에 없다.

논리 표현식의 단순화에는 드모르간 법칙이 유용하다.

```javascript
!(p && q) === !p || !q;
!(p || q) === !p && !q;
```
